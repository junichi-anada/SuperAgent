# 指示書: Sprint 3 - バックエンド技術検証

## 1. 目的
バックエンドの主要な技術的課題を検証し、後のスプリントでの開発をスムーズに進めるための準備を完了させる。

## 2. 指示方針
- **技術スタック:** バックエンドはFastAPIを使用すること。
- **参考資料:** プロジェクトの全体像や細かい仕様で迷ったら、必ず `.documents/Project.md` を確認すること。
- **コーディング規約:** PythonはPEP8に従うこと。
- **アウトプut形式:** 作業が完了したら、変更・追加したファイルのパスと、それぞれの作業内容の簡単なサマリーをJSON形式で報告すること。
- **進捗報告:** 以下の作業手順を1つ実行するごとに、「ステップX完了」と簡潔に報告すること。

## 3. 作業手順

### ステップ1: DBテーブルスキーマ設計
- **作業内容:**
    - 今後のスプリント（5, 7, 9）で必要となる `users`, `agents`, `chats`, `messages` テーブルを考慮したER図を作成してください。
    - ER図はMermaid形式のマークダウンで記述し、`.documents/db-schema.md` というファイル名で新規に保存してください。

### ステップ2: FastAPIからの外部サービス呼び出しPoC実装
- **対象ファイル:** `backend/main.py`
- **作業内容:**
    - FastAPIからOllamaとComfyUIを呼び出すための、概念実証（PoC）用のAPIエンドポイントを2つ追加してください。
    - **重要:** この時点では、実際に外部サービスを呼び出す必要はありません。「モックモード」として、固定のダミーレスポンスを返すように実装してください。
    - **エンドポイント1:**
        - パス: `/api/v1/poc/call-ollama`
        - レスポンス: `{"service": "ollama", "status": "mock_ok"}`
    - **エンドポイント2:**
        - パス: `/api/v1/poc/call-comfyui`
        - レスポンス: `{"service": "comfyui", "status": "mock_ok"}`

## 4. 完了報告
全ての作業が完了したら、最終的な成果物として、指示方針で定めた通りのJSON報告を行ってください。
