### **開発スプリント計画 Ver.3 (最終版)**

#### **フェーズ1: 環境構築 & 技術検証 (Sprint 1-4)**
*   **目的:** GPUなしでも開発できる「モック環境」を構築し、技術リスクを潰す。

| スプリント | 期間  | ゴール                             | 主なタスク                                                                                                                                          |
| :--------- | :---- | :--------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1**      | 1週目 | ローカル開発環境が立ち上がる       | <ul><li>GitHubリポジトリ作成</li><li>Docker Compose設定 (Next.js, FastAPI, PostgreSQL)</li></ul>                                                    |
| **2**      | 2週目 | AI機能のモックサーバーが機能する   | <ul><li>**[追加]** FastAPI: AI機能のモックモード実装 (ダミーレスポンスを返すAPI)</li><li>Docker Compose設定 (Ollama, ComfyUI) ※普段は停止</li></ul> |
| **3**      | 3週目 | バックエンドの技術検証が完了する   | <ul><li>DBのテーブルスキーマ設計 (ER図)</li><li>FastAPIからOllama/ComfyUIを呼び出すPoC実装 (**モックモードで** )</li></ul>                          |
| **4**      | 4週目 | フロントエンドの技術検証が完了する | <ul><li>Next.jsからFastAPIを呼び出すPoC実装</li><li>基本的なコンポーネント構造の設計</li></ul>                                                      |

#### **フェーズ2: MVP機能開発 (Sprint 5-12)**
*   **目的:** コア機能を実装し、**集中スプリント**で効率的にAI連携を完了させ、リリースにこぎつける。

| スプリント | 期間   | ゴール                                   | 主なタスク                                                                                                                                        |
| :--------- | :----- | :--------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------ |
| **5**      | 5週目  | ユーザー認証のバックエンドが完成する     | <ul><li>DBテーブル作成 (`users`)</li><li>FastAPI: サインアップ/ログインAPI実装 (JWT)</li></ul>                                                    |
| **6**      | 6週目  | ユーザーが登録・ログインできる           | <ul><li>Next.js: サインアップ/ログイン画面実装</li><li>API連携、セッション管理</li></ul>                                                          |
| **7**      | 7週目  | エージェント管理のバックエンドが完成する | <ul><li>DBテーブル作成 (`agents`)</li><li>FastAPI: エージェントのCRUD API実装</li></ul>                                                           |
| **8**      | 8週目  | ユーザーがエージェントを作成・管理できる | <ul><li>Next.js: エージェント一覧/作成/編集画面実装</li><li>API連携</li></ul>                                                                     |
| **9**      | 9週目  | AIチャットのバックエンドが完成する       | <ul><li>DBテーブル作成 (`chats`, `messages`)</li><li>FastAPI: チャットAPI実装 (送受信、履歴保存)</li></ul>                                        |
| **10**     | 10週目 | AIとのテキスト対話が成立する             | <ul><li>前半: **モック**でチャット画面UI実装 (WebSocket)</li><li>後半: **[集中スプリント]** クラウドGPUを契約し、Ollamaと実連携・テスト</li></ul> |
| **11**     | 11週目 | AIとの画像付き対話が成立する             | <ul><li>前半: **モック**で画像表示UI実装</li><li>後半: **[集中スプリント]** クラウドGPU上でComfyUIと実連携・テスト</li></ul>                      |
| **12**     | 12週目 | MVPがリリース可能な品質になる            | <ul><li>全機能の結合テスト、バグ修正</li><li>利用規約等のドキュメント作成</li><li>本番環境へのデプロイ準備</li></ul>                              |
